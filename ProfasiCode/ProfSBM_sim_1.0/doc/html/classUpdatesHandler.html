<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PROFASI: UpdatesHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>UpdatesHandler Class Reference</h1><!-- doxytag: class="UpdatesHandler" --><!-- doxytag: inherits="HandlerBase" -->
<p>A manager for MC updates.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;UpdatesHandler.hh&gt;</code></p>

<p>Inherits HandlerBase.</p>

<p><a href="classUpdatesHandler-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18f94cbe140ef13ba3965e833908070d"></a><!-- doxytag: member="UpdatesHandler::UpdatesHandler" ref="a18f94cbe140ef13ba3965e833908070d" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a18f94cbe140ef13ba3965e833908070d">UpdatesHandler</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0bbe33c42a4c422d990c59eb58e947f"></a><!-- doxytag: member="UpdatesHandler::parseCommand" ref="ae0bbe33c42a4c422d990c59eb58e947f" args="(InstructionString s)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#ae0bbe33c42a4c422d990c59eb58e947f">parseCommand</a> (InstructionString s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse updates related instructions. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a8f81ddb2da49264c99d1c394df2ca77d">autoSelect</a> (Population *p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Smart choice of updates.  <a href="#a8f81ddb2da49264c99d1c394df2ca77d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54718929e81ef524f84854c1ad849264"></a><!-- doxytag: member="UpdatesHandler::num_updates" ref="a54718929e81ef524f84854c1ad849264" args="() const " -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a54718929e81ef524f84854c1ad849264">num_updates</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of updates selected for the given Population. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ad7baf681f8e6688b63b0dd24c8b934"></a><!-- doxytag: member="UpdatesHandler::used_update" ref="a6ad7baf681f8e6688b63b0dd24c8b934" args="(size_t i)" -->
Update *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a6ad7baf681f8e6688b63b0dd24c8b934">used_update</a> (size_t i)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the i'th update in use. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf699dbfb6b8b22d8243a7ea891c6d47"></a><!-- doxytag: member="UpdatesHandler::used_update" ref="aaf699dbfb6b8b22d8243a7ea891c6d47" args="(std::string upnm)" -->
Update *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#aaf699dbfb6b8b22d8243a7ea891c6d47">used_update</a> (std::string upnm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to an update by name, if it is in use. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92ccffdfd43238c84b4fbc0c395eebe5"></a><!-- doxytag: member="UpdatesHandler::have_update" ref="a92ccffdfd43238c84b4fbc0c395eebe5" args="(std::string upnm)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a92ccffdfd43238c84b4fbc0c395eebe5">have_update</a> (std::string upnm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether an update of a given name is in the list for the given Population. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a907776b93343cc5f7eefe930a932a434"></a><!-- doxytag: member="UpdatesHandler::use_update" ref="a907776b93343cc5f7eefe930a932a434" args="(Update *updt)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a907776b93343cc5f7eefe930a932a434">use_update</a> (Update *updt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Explicitly state that an update should be used. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a50ab1d58981288874dd26acc198696fb"></a><!-- doxytag: member="UpdatesHandler::use_update" ref="a50ab1d58981288874dd26acc198696fb" args="(std::string updtname)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a50ab1d58981288874dd26acc198696fb">use_update</a> (std::string updtname)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Explicitly mark one of the known updates by name, to be used. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5fc0f8b410cae22b81f6f394fa9bdf7"></a><!-- doxytag: member="UpdatesHandler::skip_update" ref="ad5fc0f8b410cae22b81f6f394fa9bdf7" args="(std::string updtname)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#ad5fc0f8b410cae22b81f6f394fa9bdf7">skip_update</a> (std::string updtname)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request that one model update be skipped. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a438617f1d02d52f0d4df5011b97633d1"></a><!-- doxytag: member="UpdatesHandler::set_n_temps" ref="a438617f1d02d52f0d4df5011b97633d1" args="(size_t nt)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a438617f1d02d52f0d4df5011b97633d1">set_n_temps</a> (size_t nt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Propagate temperature index range to updates. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a948c9946d90b197c6b9c1e560d3fdbe6">assign_probs</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assign probabilities from file or use auto assignment.  <a href="#a948c9946d90b197c6b9c1e560d3fdbe6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b57f3743d5a23d400e5e7603d45dc49"></a><!-- doxytag: member="UpdatesHandler::init" ref="a0b57f3743d5a23d400e5e7603d45dc49" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUpdatesHandler.html#a0b57f3743d5a23d400e5e7603d45dc49">init</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform any necessary initialisation operations for the updates. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classUpdatesHandler.html" title="A manager for MC updates.">UpdatesHandler</a> manages a lot of things relating to conformational updates for Monte Carlo simulations. It's the interface for the conformational updates module in ProFASi. Based on a given Population, it can automatically set up a reasonable choice of conformational updates. It can calculate good relative frequency of performing those updates. The UpdateHandler is also used as a helper class in MC to bring about the conformational changes in each MC step.</p>
<p>The behaviour of the update manager can be controlled through commands passed to it as InstructionStrings. For instance, it can be told to use an update although the automatic set up does not select that update using its more generic criteria. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a948c9946d90b197c6b9c1e560d3fdbe6"></a><!-- doxytag: member="UpdatesHandler::assign_probs" ref="a948c9946d90b197c6b9c1e560d3fdbe6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdatesHandler::assign_probs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function first tries to read in update probabilities from a file in the format described in <a class="el" href="update_probs.html">Specifying relative probability of conformation updates</a>. If that fails, it uses population information to set up some reasonable values. </p>

</div>
</div>
<a class="anchor" id="a8f81ddb2da49264c99d1c394df2ca77d"></a><!-- doxytag: member="UpdatesHandler::autoSelect" ref="a8f81ddb2da49264c99d1c394df2ca77d" args="(Population *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdatesHandler::autoSelect </td>
          <td>(</td>
          <td class="paramtype">Population *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For single chain systems, nothing is normally gained by performing rigid body updates. So, this function checks if there is indeed only one chain, and switches off those updates... that is, if the user did not explicitly state that such an update is desired! For instance, the single protein might be subject to an external force field which is space dependent, in which case, even rigid body updates are dynamically interesting. In such a situation, the user should make an explicit call to useUpdate("Rotation"), for instance, which would tell the autoSelectUpdates() function to leave the rigid body rotations alone, even if there is only one chain. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>model/Updates/UpdatesHandler.hh</li>
<li>model/Updates/UpdatesHandler.cc</li>
</ul>
</div>
<center>
<hr>
<small>
<strong>PROFASI: Protein Folding and Aggregation Simulator, Version 1.5 
</strong><br />
&copy; (2005-2009) <a href="http://www.thep.lu.se/~anders">Anders Irb&auml;ck</a>
and <a href="http://www.thep.lu.se/~sandipan">Sandipan Mohanty</a><br />
Documentation generated on 19 Jun 2014 using Doxygen version 1.6.1
</small>
</center>

</body>
</html> 
