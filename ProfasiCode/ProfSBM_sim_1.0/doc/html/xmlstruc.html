<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PROFASI: PROFASI&#39;s XML structure file format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="toc.html">Table of contents</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="xmlstruc">PROFASI's XML structure file format </a></h1><p>While working with PROFASI, it is often convenient to use its own XML structure format to store the structure of protein systems. There are many reasons for introducing this: </p>
<ul>
<li>The punch-card age conventions in the PDB format can sometimes be somewhat invonvenient, for instance when one has more than 100 chains. The chain label column with only one character can be a limitation, leading to chain labels such as ',','?' or unprintable characters. </li>
<li>Although specifying 3 digits for the Cartessian coordinates is normally ok, one can not save the precise state of the population in that way. For instance, if the program was at a state S with energy E, and we save a PDB file. The energy calculated for the PDB file will differ by a small but non-vanishing amount. This is especially annoying if you are trying to develop a force field, and can not be sure if the small differences you see are because of a change of your implementation of the energy function or just because of the rounding off errors in the PDB format. </li>
<li>Earlier versions of PROFASI have had a "textconf" format, in which only the degrees of freedom are written to a file. This format was what the developers used to restore the population to a stored structure precisely. But since textconf does not contain sequence information, it can only be interpreted in connection with a settings file. It is desirable to have something that stores structures for PROFASI as accurately as textconf, but has the self-contained character of a PDB file.</li>
</ul>
<p>All the above issues are addressed by PROFASI's XML structure format. Here is a sample: </p>
<div class="fragment"><pre class="fragment">
&lt;?xml version="1.0"?&gt;
&lt;structure&gt;
&lt;box_length&gt;57.6999999999999957&lt;/box_length&gt;
&lt;energy&gt;127.6096792213545825&lt;/energy&gt;
&lt;snapshot_time&gt; 0 &lt;/snapshot_time&gt;
&lt;profasi_version&gt;1.4.8&lt;/profasi_version&gt;
&lt;creation_time&gt;
UTC 2011-Feb-01-17:44:59&lt;/creation_time&gt;
&lt;population&gt;
&lt;num_chains&gt;1&lt;/num_chains&gt;
&lt;protein id="0"&gt;
&lt;sequence&gt;
  * RGKWTYNGITYEGR *
&lt;/sequence&gt;
&lt;global_coordinates&gt;
-6.2660000000000000  -5.5970000000000004  -3.4409999999999998
-5.9421299751309578  -5.6627480501613841  -2.0188940261389439
-4.7606256705779826  -6.5864440712716199  -1.7714405175602406
&lt;/global_coordinates&gt;
&lt;group index="0" type="ARG"&gt;
&lt;coordinates&gt;
2.0942352533962136   2.2435194293934790   -3.1415926535897931
2.1414162734233773   -2.6370843727438729   1.5540134319459780
2.8388317673757530
&lt;/coordinates&gt;
&lt;/group&gt;
&lt;group index="1" type="GLY"&gt;
&lt;coordinates&gt;
1.8356117390315918   0.8009091894546179   -3.1415926535897931

&lt;/coordinates&gt;
&lt;/group&gt;
&lt;group index="2" type="LYS"&gt;
&lt;coordinates&gt;
-2.8358781065452923   2.3615227222406134   -3.1415926535897931
-2.3327310248966375   -2.7777380595288519   -1.8560468038439331
2.8623692260015430   -1.0468954991742636
&lt;/coordinates&gt;
&lt;/group&gt;

///// MANY MORE NODES /////

&lt;group index="13" type="ARG"&gt;
&lt;coordinates&gt;
-1.7226977924681979   -0.2137330785775413   -3.1415926535897931
-2.3538889062619526   -2.7744724772572389   -2.1885416072649102
3.0158907181494810
&lt;/coordinates&gt;
&lt;/group&gt;
&lt;/protein&gt;
&lt;/population&gt;
&lt;/structure&gt;
</pre></div><p>The meaning of many of the fields does not need any explanation. </p>
<ul>
<li>There is a XML node tree for <em>population</em>, with <em>protein</em> nodes as children. </li>
<li>Each protein has a <em>sequence</em> node containing its sequence, and a set of global coordinates, storing the Cartessian coordinates of the first 3 backbone atoms from the N-terminal. </li>
<li>The protein node has a bunch of residue nodes as children. </li>
<li>Each residue node (called "group") has an "index" attribute, which specifies where in the sequence the residue should be mapped. It also records its 3 letter code in the "type" attribute. </li>
<li>The residue or group then has a "coordinates" child node containing a few numbers which specify the conformation of that residue. The reason it is called "coordinates" and not "dof" is that we include also the backbone omega angles in this which are currently not degrees of freedom in PROFASI. The value of the omega angle is read and used to decide if it is a CIS or a TRANS peptide bond. </li>
<li>The coordinates node stores in this order: phi, psi, chi0, chi1 ... The phi angle of Proline is stored, although it is not read in when the structure is read.</li>
</ul>
<p>The XML format can be displayed using a web browser like firefox and processed with a plethora of different applications. White space is unimporant.</p>
<p>Since no visualisation program is likely to understand this format yet, we need a way to convert the XML files to PDB files. This is how one does it:</p>
<div class="fragment"><pre class="fragment">
prf_convert abc.xml abc.pdb
</pre></div><p>The simulation programs can be asked to generate the minimum energy structures in the XML format instad of the PDB format with the following command in the settings file:</p>
<div class="fragment"><pre class="fragment">
snapshot_format 2
</pre></div><p>Otherwise, one can extract XML structure files from a concluded simulation using <a class="el" href="classextract__snapshot.html" title="Extracting a snapshot configuration.">extract_snapshot</a> .</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="prf_convert.html">Converting between structure file formats</a>, <a class="el" href="classextract__snapshot.html" title="Extracting a snapshot configuration.">extract_snapshot</a> </dd></dl>
</div>
<center>
<hr>
<small>
<strong>PROFASI: Protein Folding and Aggregation Simulator, Version 1.5 
</strong><br />
&copy; (2005-2009) <a href="http://www.thep.lu.se/~anders">Anders Irb&auml;ck</a>
and <a href="http://www.thep.lu.se/~sandipan">Sandipan Mohanty</a><br />
Documentation generated on 19 Jun 2014 using Doxygen version 1.6.1
</small>
</center>

</body>
</html> 
