<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PROFASI: BasicMCRun Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>BasicMCRun Class Reference</h1><!-- doxytag: class="BasicMCRun" -->
<p>Constant temperature Monte Carlo simulations.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;BasicMCRun.hh&gt;</code></p>

<p>Inherited by <a class="el" href="classParTempRun.html">ParTempRun</a>, <a class="el" href="classRetrace.html">Retrace</a>, <a class="el" href="classSimAnnealRun.html">SimAnnealRun</a>, <a class="el" href="classSimTempRun.html">SimTempRun</a>, and <a class="el" href="classWLRun.html">WLRun</a>.</p>

<p><a href="classBasicMCRun-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcd1a8eb78db8f6674acd3de46958469"></a><!-- doxytag: member="BasicMCRun::parseCommands" ref="afcd1a8eb78db8f6674acd3de46958469" args="(std::list&lt; InstructionString &gt; &amp;cmds)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicMCRun.html#afcd1a8eb78db8f6674acd3de46958469">parseCommands</a> (std::list&lt; InstructionString &gt; &amp;cmds)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute commands collected with getCommands. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicMCRun.html#ab5081ba4ac9ea285d3460788648cf5fb">writeConf</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write program state to PROFASI binary configuration file.  <a href="#ab5081ba4ac9ea285d3460788648cf5fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicMCRun.html#a5a7979702dabf7c442396981e0c7e53f">recover</a> (unsigned rcyc=(unsigned)-1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Restore the state of the run to a given point of a previous run.  <a href="#a5a7979702dabf7c442396981e0c7e53f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FILE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicMCRun.html#a1ff5dbb8e8dac62dc86a7ff6ba3c5f5e">open_segment</a> (std::string prfx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a new conf.data___ file for a new simulation segment.  <a href="#a1ff5dbb8e8dac62dc86a7ff6ba3c5f5e"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4fbc98d85ddab216755febcf87ba024d"></a><!-- doxytag: member="BasicMCRun::PH" ref="a4fbc98d85ddab216755febcf87ba024d" args="" -->
<a class="el" href="classPopulationHandler.html">PopulationHandler</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicMCRun.html#a4fbc98d85ddab216755febcf87ba024d">PH</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A population handler. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31d5fa273b34ce52e566a4be34312d5b"></a><!-- doxytag: member="BasicMCRun::H" ref="a31d5fa273b34ce52e566a4be34312d5b" args="" -->
<a class="el" href="classprf_1_1ObsHandler.html">ObsHandler</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicMCRun.html#a31d5fa273b34ce52e566a4be34312d5b">H</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An observable handler. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb3ecc03deacfc97d8e7f3130db88f30"></a><!-- doxytag: member="BasicMCRun::ranh" ref="adb3ecc03deacfc97d8e7f3130db88f30" args="" -->
RandomNumberHandler&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicMCRun.html#adb3ecc03deacfc97d8e7f3130db88f30">ranh</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A handler object for random numbers. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80814d37b4b25de2593a48d84934b7b0"></a><!-- doxytag: member="BasicMCRun::ffh" ref="a80814d37b4b25de2593a48d84934b7b0" args="" -->
FFHandler&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicMCRun.html#a80814d37b4b25de2593a48d84934b7b0">ffh</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A force field handler. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This is an application program written in the form of a class. It has a Run function, and the "main" function simply needs to transfer control to this Run function. In ProFASi, there is no such thing as the "main profasi  executable". Application programs should be written in the form of an interface class like this one and linked to the ProFASi libraries. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="bmcrun_progref.html">BasicMCRun program reference</a> </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1ff5dbb8e8dac62dc86a7ff6ba3c5f5e"></a><!-- doxytag: member="BasicMCRun::open_segment" ref="a1ff5dbb8e8dac62dc86a7ff6ba3c5f5e" args="(std::string prfx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE * BasicMCRun::open_segment </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>prfx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open a data file to contain binary configuration snapshots for the run. Every time a run is restarted, a new conf.data___ file is created with a name based on the time of the first write event. The name is registered inside the "traj" file for the run, so that the traj file contains information about the segments in the appropriate order. </p>

</div>
</div>
<a class="anchor" id="a5a7979702dabf7c442396981e0c7e53f"></a><!-- doxytag: member="BasicMCRun::recover" ref="a5a7979702dabf7c442396981e0c7e53f" args="(unsigned rcyc=(unsigned)&#45;1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BasicMCRun::recover </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>rcyc</em> = <code>(unsigned)-1</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This restores the population, random number generator, temperature and energy classes to a specified point in a previously generated trajectory. MC updates should then follow the path of the older run unless external factors change this. The parameter passed is the MC cycle where the program should be restored. If a large value is passed (or the default argument used), the run is restored to the last saved configuration in the older trajectory. The name of the trajectory file used is fixed: it's called "traj", and it is located in the output directory of the run. Since the "traj" files are only envelopes containing information about data (but no actual data), additional files are needed for the recovery to work. These are the conf.data___ files found in the output directories. Without the conf.data___ files, the traj files can not be used to restore the program. </p>

</div>
</div>
<a class="anchor" id="ab5081ba4ac9ea285d3460788648cf5fb"></a><!-- doxytag: member="BasicMCRun::writeConf" ref="ab5081ba4ac9ea285d3460788648cf5fb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasicMCRun::writeConf </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes information about the current state of the program to a compressed binary configuration file. Every time this function is called, the following information is written: (i) MC time (ii) Temperature index (This is always 0 for <a class="el" href="classBasicMCRun.html" title="Constant temperature Monte Carlo simulations.">BasicMCRun</a>, but contains useful information for programs like <a class="el" href="classParTempRun.html" title="Parallel tempering class.">ParTempRun</a>. Writing a redundant 0 in <a class="el" href="classBasicMCRun.html" title="Constant temperature Monte Carlo simulations.">BasicMCRun</a> keeps the format of the data in the binary files fixed across all simulation programs in PROFASI) (iii) Total energy (iv) State of the random number generator, normally, as a pair of long and unsigned long variables. The first is the original seed, the second is the number of calls to the generator up until the time of the configuration save. Using these two, the random number generator can be restored (v) All degrees of freedom of the population.</p>
<p>The data is simply dumped without any formatting. So, the contents of the state files (normally called "conf...", found inside the run directories) are not (normal-) human readable. Since this way of writing data makes use of the internal structure of the data, it achieves optimal compression. But without knowledge of the layout of the bytes in the files, this data would be totally unreadable. Such information was formerly contained in a separate file called "conf.info" also generated by the simulation programs. The same byte for byte description of the contents of each block of data in the conf files is now contained as a human readable "header" section inside the "conf..." files.</p>
<p>PROFASI 1.5 makes the interaction with the binary "conf..." files more indirect, through the PROFASI trajectory description file, called n0/traj, n1/traj etc. This is an important topic and is described in detail in <a class="el" href="traj_files.html">PROFASI trajectory files</a> . </p>

<p>Reimplemented in <a class="el" href="classWLRun.html#a56c9ac3152b73ef36cf0337fa6d98995">WLRun</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>app/BasicMCRun.hh</li>
<li>app/BasicMCRun.cc</li>
</ul>
</div>
<center>
<hr>
<small>
<strong>PROFASI: Protein Folding and Aggregation Simulator, Version 1.5 
</strong><br />
&copy; (2005-2009) <a href="http://www.thep.lu.se/~anders">Anders Irb&auml;ck</a>
and <a href="http://www.thep.lu.se/~sandipan">Sandipan Mohanty</a><br />
Documentation generated on 19 Jun 2014 using Doxygen version 1.6.1
</small>
</center>

</body>
</html> 
