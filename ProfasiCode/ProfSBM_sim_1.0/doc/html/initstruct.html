<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PROFASI: Initial structures in PROFASI simulations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="toc.html">Table of contents</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="initstruct">Initial structures in PROFASI simulations </a></h1><p>Almost all our simulations start with random initial values assigned to all degrees of freedom. In a few instances we have used a "stretched" chain as the starting point. It is however a frequent request that it should be possible to start simulations from a given initial structure. Here we describe how that can be done.</p>
<h2><a class="anchor" id="initstruct_ranstr">
Random and stretched initial conformations</a></h2>
<p>To start simulations from random configuration of the protein chains, you don't have to do anything about the start configuration. That is the default behaviour.</p>
<p>To start from stretched chains, use the command <em>init_config</em> in the settings file. </p>
<div class="fragment"><pre class="fragment">
  add_chain 1 &lt;*GEWTY DDATKT FTVTE*&gt;
  init_config stretched
  </pre></div><p>Simulation programs based on <a class="el" href="classBasicMCRun.html" title="Constant temperature Monte Carlo simulations.">BasicMCRun</a>, such as <a class="el" href="classSimTempRun.html" title="Simulated tempering with profasi.">SimTempRun</a>, <a class="el" href="classSimAnnealRun.html" title="Simulated annealing.">SimAnnealRun</a>, <a class="el" href="classParTempRun.html" title="Parallel tempering class.">ParTempRun</a> and <a class="el" href="classWLRun.html" title="Monte Carlo simulations with the Wang Landau method.">WLRun</a> store the starting structure for the simulations in a file called <em>start.xml</em>. Each rank in a parallel run stores its own start conformation. Normally, the start conformations are stored after the so called "preliminary relaxation" cycles. These are normal MC cycles at a high temperature to remove atom clashes, so that in the main loop of the simulation, the energies start at reasonable values. The number of relaxation cycles is 10 times the number of chains in the system. This is the reason why even when you specify "stretched" as init_config, you don't see a flat elongated chain as the start structure.</p>
<p>Remember that "stretched" does not really mean using a physical stretching force and determining the stretched protein conformation. It simply assigns values to the degrees of freedom such that the chain appears extended. It is not guaranteed that a stretched conformation in this sense wont lead to clashes between atoms. Therefore the relaxation cycles are run even for stretched starts. It is possible to use a settings file command to skip the relaxation cycles, so that init_config stretched will produce a stretched start.xml file.</p>
<div class="fragment"><pre class="fragment">
  add_chain 1 &lt;*GEWTY DDATKT FTVTE*&gt;
  init_config stretched
  preliminary_relaxation off
  </pre></div><h2><a class="anchor" id="initstruct_given">
Starting from a given structure</a></h2>
<p>Here we are talking about starting the simulations from, for instance, a PDB file. Suppose you have a PDB file <em>abc.pdb</em> and you want a simulation to start from that structure. Follow these steps:</p>
<ul>
<li>Generate a regularized approximation of the structure with PROFASI's constraints, like this: <div class="fragment"><pre class="fragment">
  regularize abc.pdb
  </pre></div> This will produce two files "min_etot.xml" and "min_rmsd.xml". Check how good the approximation is by converting them to PDB files : <div class="fragment"><pre class="fragment">
  prf_convert min_etot.xml min_etot.pdb
  </pre></div> Use your favourite molecular visualisation program to superimpose min_etot.pdb with abc.pdb and convince yourself that a good approximation has been found. </li>
<li>Rename either the min_etot.xml or min_rmsd.xml to something convenient like "abc_init.xml" </li>
<li>Scrap the add_chain or add_chain_pdb command in the settings file and do this in the settings file instead: <div class="fragment"><pre class="fragment">
  set_population abc_init.xml
  </pre></div> The "preliminary relaxation" cycles are not run if there is an explicitly mentioned initial structure.</li>
</ul>
<p>The above illustrates the principle. The recommended way to provide a starting structure is to use a structure in <a class="el" href="xmlstruc.html">PROFASI's XML structure file format</a>. The programs <em>regularize</em> and <em>prf_convert</em> can be used to generate such a structure from a given PDB file. Regularize does more than just the format conversion, and is recommended unless the PDB file was generated in a PROFASI simulation. The XML structure file can also be extracted from a previous simulation with PROFASI using the program <em><a class="el" href="classextract__snapshot.html" title="Extracting a snapshot configuration.">extract_snapshot</a></em> .</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="regul.html">Regularization: approximating a protein structure</a> , <a class="el" href="classextract__snapshot.html" title="Extracting a snapshot configuration.">extract_snapshot</a> , <a class="el" href="prf_convert.html">Converting between structure file formats</a>, <a class="el" href="xmlstruc.html">PROFASI's XML structure file format</a> </dd></dl>
</div>
<center>
<hr>
<small>
<strong>PROFASI: Protein Folding and Aggregation Simulator, Version 1.5 
</strong><br />
&copy; (2005-2009) <a href="http://www.thep.lu.se/~anders">Anders Irb&auml;ck</a>
and <a href="http://www.thep.lu.se/~sandipan">Sandipan Mohanty</a><br />
Documentation generated on 19 Jun 2014 using Doxygen version 1.6.1
</small>
</center>

</body>
</html> 
