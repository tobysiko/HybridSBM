<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PROFASI: Calculating energies of a PROFASI generated PDB/XML file</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="toc.html">Table of contents</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="prf_energies">Calculating energies of a PROFASI generated PDB/XML file </a></h1><p>The utility  prf_energies calculates and prints the various PROFASI energy terms for a PROFASI generated PDB or XML structure file. It is useful if you have extracted a structure from a PROFASI run and want to see what the different energy terms are like for that particular structure. When using a PDB file, you can also use the PROFASI selection rules described in <a class="el" href="prf_sel_fils.html">ProFASi PDB handling: Selections and Filters</a> to find the energy of a subsystem (excluding everything else). <br/>
</p>
<h2><a class="anchor" id="usage">
Usage</a></h2>
<p><code>prf_energies structure.pdb::selections</code><br/>
<br/>
 <code>prf_energies structure.xml</code><br/>
<br/>
</p>
<p>ProFASi style selection rules for PDB files may be used. For example, <br/>
<br/>
 to print the energy terms for a structure abc.pdb, <br/>
 <code>prf_energies abc.pdb</code><br/>
<br/>
 To print the energy terms involving only the atoms of chain B residues 2-10 of abc.pdb, <br/>
 <code>prf_energies abc.pdb:B,2,10</code></p>
<p>To use a ProFASi text configuration file as an input, you need to set the population in some way. This can be done, either by using the population specifiec command line arguments or by using a settings file. This program does not look for a settings file, unless you explicitly mention its name using the "-st" option. In most situations, the most convenient way is to use "--add_chain ... " through the command line.</p>
<p><code>prf_energies minen.tconf --add_chain 30 "ACE*KLVFFAE*NH2" --box_length 100</code><br/>
<br/>
</p>
<p>In the above example, the text configuration file minen.tconf was interpreted as the structure information for 30 chains of sequence Acetyl--KLVFFAE--NH2. If the sequence is long, and you would rather have it read from the original settings file, do this:<br/>
<br/>
</p>
<p><code>prf_energies minen.tconf --settings_file original_settings.cnf </code><br/>
<br/>
</p>
<dl class="note"><dt><b>Note:</b></dt><dd>For a PDB file not generated by PROFASI, the output of this program might be entirely incorrect. If the PDB file contains all atoms, including all hydrogen atoms, the values will be approximately ok. Still, because of possible differences of bond angle and bond lengths between the geometry assumed in PROFASI and the geometry in the PDB file, there could be some bad values, especially for the excluded volume term.</dd>
<dd>
XML structure files store internal dihedral angles and a few rigid body coordinates to much higher precision than is possible in a PDB file. The energy values obtained for an XML structure file should therefore match the ones seen during the more or less exactly, for the same force field. We use this, to conveniently check for bugs every time we work on the energy class implementations.</dd></dl>
<h2><a class="anchor" id="transformations">
Applying transformations to the angles</a></h2>
<p>This program can optionally modify the degrees of freedom with a set of given rules before using them. The reason for this feature is to provide a convenient way to calculate energies for structures extracted from older versions of ProFASi (older than 1.1).</p>
<p>We will illustrate with an example: the definition of the chi0 angle of most residues is the dihedral angle N-Ca-Cb-Cg. But in the first versions of ProFASi it used to be N-Ca-Cb-1Hb. The binary and text population configuration files obtained from such an older version will have angles measured with a different definition. But since this definition just creates an offset, it can be easily corrected for. One needs to specify the (i) the type of residue where the correction should be applied, (ii) the serial number of the side chain degree of freedom in that residue, (iii) a constant to be added to the value of that degree of freedom. Every residue of the same type will need just one set of rules specifying what to do with various degrees of freedom in it. So, one can create a file with one line for each kind of residues for which a correction is needed: (for example)<br/>
<br/>
 LYS 3 0 120 1 120 2 120<br/>
<br/>
 The above line says, for every lysine residue, add 120 degrees to chi0, chi1 and chi2 before interpreting the current structure.</p>
<p>The file containing these transformation rules are then to be passed to the program with the "tf" option. </p>
</div>
<center>
<hr>
<small>
<strong>PROFASI: Protein Folding and Aggregation Simulator, Version 1.5 
</strong><br />
&copy; (2005-2009) <a href="http://www.thep.lu.se/~anders">Anders Irb&auml;ck</a>
and <a href="http://www.thep.lu.se/~sandipan">Sandipan Mohanty</a><br />
Documentation generated on 19 Jun 2014 using Doxygen version 1.6.1
</small>
</center>

</body>
</html> 
