<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PROFASI: prf_traj::TrajSeg Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>prf_traj</b>::<a class="el" href="classprf__traj_1_1TrajSeg.html">TrajSeg</a>
  </div>
</div>
<div class="contents">
<h1>prf_traj::TrajSeg Class Reference<br/>
<small>
[<a class="el" href="group__prf__trajectory.html">PROFASI trajectory module</a>]</small>
</h1><!-- doxytag: class="prf_traj::TrajSeg" -->
<p>A segment of a trajectory.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;TrajSeg.hh&gt;</code></p>

<p><a href="classprf__traj_1_1TrajSeg-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa04e5fd069096b24149839ad6c5da11a"></a><!-- doxytag: member="prf_traj::TrajSeg::min_cycle" ref="aa04e5fd069096b24149839ad6c5da11a" args="() const " -->
unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#aa04e5fd069096b24149839ad6c5da11a">min_cycle</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MC cycle of the first snapshot. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5daa8ef146f2ba983e75c32b6badd5d"></a><!-- doxytag: member="prf_traj::TrajSeg::max_cycle" ref="af5daa8ef146f2ba983e75c32b6badd5d" args="() const " -->
unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#af5daa8ef146f2ba983e75c32b6badd5d">max_cycle</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MC cycle of the last snapshot. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60f321e973bbba0f16c82726930f0510"></a><!-- doxytag: member="prf_traj::TrajSeg::interval" ref="a60f321e973bbba0f16c82726930f0510" args="() const " -->
unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a60f321e973bbba0f16c82726930f0510">interval</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interval in MC cycles between adjacent snapshots. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a5e3b752efee21f4612196213052be2fe">first_block</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer index assigned to the first block or snapshot.  <a href="#a5e3b752efee21f4612196213052be2fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48a2408acaae48ed3e097d7528929dfd"></a><!-- doxytag: member="prf_traj::TrajSeg::last_block" ref="a48a2408acaae48ed3e097d7528929dfd" args="() const " -->
unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a48a2408acaae48ed3e097d7528929dfd">last_block</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer idex corresponding to the last block. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5054690b290b3054a6c0a49030846ba1"></a><!-- doxytag: member="prf_traj::TrajSeg::set_block_id_offset" ref="a5054690b290b3054a6c0a49030846ba1" args="(unsigned l)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a5054690b290b3054a6c0a49030846ba1">set_block_id_offset</a> (unsigned l)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set offset for the integer indexes of the data blocks. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3af3acf0e72dff554023cb4ef6282669"></a><!-- doxytag: member="prf_traj::TrajSeg::n_blocks" ref="a3af3acf0e72dff554023cb4ef6282669" args="() const " -->
unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a3af3acf0e72dff554023cb4ef6282669">n_blocks</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of blocks or snapshots. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a0d9ad04dd2a25617e63219dabb48cbf2">truncate_in_t_range</a> (unsigned long t0, unsigned long t1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select only a set of blocks in a certain range in MC time.  <a href="#a0d9ad04dd2a25617e63219dabb48cbf2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24ac6c2d8513f7f3b4aab94be540d508"></a><!-- doxytag: member="prf_traj::TrajSeg::truncate_in_block_range" ref="a24ac6c2d8513f7f3b4aab94be540d508" args="(unsigned t0, unsigned t1)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a24ac6c2d8513f7f3b4aab94be540d508">truncate_in_block_range</a> (unsigned t0, unsigned t1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select a set of blocks identified by their block ids. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5940c4ce5ed28d46857cac45c4911f36"></a><!-- doxytag: member="prf_traj::TrajSeg::get_block" ref="a5940c4ce5ed28d46857cac45c4911f36" args="(unsigned iblk, TrajSnapshot &amp;snp)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a5940c4ce5ed28d46857cac45c4911f36">get_block</a> (unsigned iblk, <a class="el" href="classprf__traj_1_1TrajSnapshot.html">TrajSnapshot</a> &amp;snp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve a certain block or snapshot. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a80ded11cc04dd83d5107b571bba52338">get_block_at_mct</a> (unsigned long mct, <a class="el" href="classprf__traj_1_1TrajSnapshot.html">TrajSnapshot</a> &amp;snp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search for a block of a certain MC time and retrieve it.  <a href="#a80ded11cc04dd83d5107b571bba52338"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#adf56b60bc9b938d1acb37cba3597d4a6">sleep</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put segment to sleep.  <a href="#adf56b60bc9b938d1acb37cba3597d4a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#ae6808630f3c4f628eb23cf4327358928">wake_up</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(Re-)open file handle to read snapshot data again  <a href="#ae6808630f3c4f628eb23cf4327358928"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31ce6326fab1c28555877eb6dd73bdae"></a><!-- doxytag: member="prf_traj::TrajSeg::xml_map" ref="a31ce6326fab1c28555877eb6dd73bdae" args="()" -->
<a class="el" href="classprf__xml_1_1XML__Node.html">prf_xml::XML_Node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__traj_1_1TrajSeg.html#a31ce6326fab1c28555877eb6dd73bdae">xml_map</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An XML map containing information which applies to all snapshots. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A <a class="el" href="classprf__traj_1_1TrajSeg.html" title="A segment of a trajectory.">TrajSeg</a> is a segment of a PROFASI "trajectory" represented by the <a class="el" href="classprf__traj_1_1Trajectory.html" title="PROFASI (multi-segment) trajectories.">prf_traj::Trajectory</a> class. A segment is generated by saving a series of snapshots (<a class="el" href="classprf__traj_1_1TrajSnapshot.html" title="Snapshot of program state.">prf_traj::TrajSnapshot</a>) until the run is finished or suspended because of run-time restrictions. When a run is continued after being suspended, a new segment is created.</p>
<p>A segment is a series of snapshots. But the segment contains additional data to help interpret the snapshots, such as the sequence of chains in the population, box size etc. The data in the snapshots taken together with this information should suffice to reconstruct all properties of the simulated system.</p>
<p>A PROFASI trajectory segment file also contains information about the machine where the simulation ran. It is therefore possible to interpret segment files generated on one machine in another.</p>
<p>The <a class="el" href="classprf__traj_1_1Trajectory.html" title="PROFASI (multi-segment) trajectories.">prf_traj::Trajectory</a> class interacts with segments with only a generic interface which does involve details of data layout in the file. Retrieving data from the file and interpreting it is handled by an object of type <a class="el" href="classprf__traj_1_1prf__raw__conf.html" title="Reader for PROFASI&#39;s raw binary data format.">prf_traj::prf_raw_conf</a> . In the future <a class="el" href="classprf__traj_1_1prf__raw__conf.html" title="Reader for PROFASI&#39;s raw binary data format.">prf_raw_conf</a> will be sub-classed to enable using alternative binary storage formats like HDF5. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classprf__traj_1_1TrajSnapshot.html" title="Snapshot of program state.">prf_traj::TrajSnapshot</a>, <a class="el" href="classprf__traj_1_1Trajectory.html" title="PROFASI (multi-segment) trajectories.">prf_traj::Trajectory</a>, <a class="el" href="classprf__traj_1_1prf__raw__conf.html" title="Reader for PROFASI&#39;s raw binary data format.">prf_traj::prf_raw_conf</a> </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5e3b752efee21f4612196213052be2fe"></a><!-- doxytag: member="prf_traj::TrajSeg::first_block" ref="a5e3b752efee21f4612196213052be2fe" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long prf_traj::TrajSeg::first_block </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A segment expects to be one of a series of segments. Therefore, the first block of data in a segment might be the 153rd block in a long simultion. This returns the block id of the first block. Of course, the segment can not know it on its own. This has to be set with the <a class="el" href="classprf__traj_1_1TrajSeg.html#a5054690b290b3054a6c0a49030846ba1" title="Set offset for the integer indexes of the data blocks.">set_block_id_offset()</a> function. </p>

</div>
</div>
<a class="anchor" id="a80ded11cc04dd83d5107b571bba52338"></a><!-- doxytag: member="prf_traj::TrajSeg::get_block_at_mct" ref="a80ded11cc04dd83d5107b571bba52338" args="(unsigned long mct, TrajSnapshot &amp;snp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TrajSeg::get_block_at_mct </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>mct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classprf__traj_1_1TrajSnapshot.html">TrajSnapshot</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>snp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If the requested MC cycle is outside the currently active MC time range for the segment, the return value is false. If it is within the range but does not correspond to the MC time of any snapshot, the snapshot with the nearest MC time before the requested time is returned. </p>

</div>
</div>
<a class="anchor" id="adf56b60bc9b938d1acb37cba3597d4a6"></a><!-- doxytag: member="prf_traj::TrajSeg::sleep" ref="adf56b60bc9b938d1acb37cba3597d4a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TrajSeg::sleep </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sleep means closing the file handle while keeping all meta data. When wake_up is called after sleep, no initialisation is needed. </p>

</div>
</div>
<a class="anchor" id="a0d9ad04dd2a25617e63219dabb48cbf2"></a><!-- doxytag: member="prf_traj::TrajSeg::truncate_in_t_range" ref="a0d9ad04dd2a25617e63219dabb48cbf2" args="(unsigned long t0, unsigned long t1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TrajSeg::truncate_in_t_range </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>t0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>t1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function discards snapshots in the beginning and end of the segment, so that <a class="el" href="classprf__traj_1_1TrajSeg.html" title="A segment of a trajectory.">TrajSeg</a> pretends they don't exist for subsequent querries. It does not delete data in the files. Only ignores them. </p>

</div>
</div>
<a class="anchor" id="ae6808630f3c4f628eb23cf4327358928"></a><!-- doxytag: member="prf_traj::TrajSeg::wake_up" ref="ae6808630f3c4f628eb23cf4327358928" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TrajSeg::wake_up </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If initialisation was done before, wake_up simply opens the file handle to the data file and returns. If initialisation has never happened, init() is called. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>model/Aux/TrajSeg.hh</li>
<li>model/Aux/TrajSeg.cc</li>
</ul>
</div>
<center>
<hr>
<small>
<strong>PROFASI: Protein Folding and Aggregation Simulator, Version 1.5 
</strong><br />
&copy; (2005-2009) <a href="http://www.thep.lu.se/~anders">Anders Irb&auml;ck</a>
and <a href="http://www.thep.lu.se/~sandipan">Sandipan Mohanty</a><br />
Documentation generated on 19 Jun 2014 using Doxygen version 1.6.1
</small>
</center>

</body>
</html> 
