<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PROFASI: Simulations with distance restraints</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="toc.html">Table of contents</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="ds_restraints">Simulations with distance restraints </a></h1><p>Using distance restraints in a simulation follows exactly the same syntax as does the use of dihedral restraints (See <a class="el" href="dh_restraints.html">Restraining simulations with a torsional angle potential</a> ). The following one line in the settings file will set up a new energy term according to the restraints specified in the XML configuration file  dist_restr.xml . </p>
<div class="fragment"><pre class="fragment">
force_field FF08DR=FF08+Extras:DistanceRestraints(dist_restr.xml)
</pre></div><p> The procedure for specifying the restraints in the command line is the same as for the dihedral restraints.</p>
<h2><a class="anchor" id="specs">
Specification</a></h2>
<p>The distance restraints energy term must be configured so that it knows which distances to use and what to do with them. The XML configuration file should have the following format:</p>
<ul>
<li>The top level node for this XML configuration file is called  distance_restraints . </li>
<li>Within the scope of the top level node, there should be a series of nodes of name  restraint . </li>
<li>Each  restraint node must have a field called  atom1 , a field called  atom2 and a field called  parameters </li>
<li>The  restraint node can optionally have an attribute  type, specifying the kind of function to be used for the restraint. The default function for distance restraints is a quadratic form. </li>
<li>The contents of the  parameters field depend on the type of function chosen with the type attribute. The parameter names for the default function are  mean and weight.</li>
</ul>
<h2><a class="anchor" id="example">
Example</a></h2>
<p>The following XML file configures 5 distance restraints: </p>
<div class="fragment"><pre class="fragment">
&lt;distance_restraints&gt;

&lt;formatted_data&gt;

&lt;format name="restraint" type="$3"&gt;
  &lt;atom1&gt;$1&lt;/atom1&gt;
  &lt;atom2&gt;$2&lt;/atom2&gt;
  &lt;parameters&gt;
    &lt;mean&gt;$4&lt;/mean&gt;
    &lt;weight&gt;$5&lt;/weight&gt;
  &lt;/parameters&gt;
&lt;/format&gt;

&lt;data&gt;
0/0/GLY/_CA_ 0/15/GLU/_CA_ quadratic 5.5 3.0
0/1/GLU/_CA_ 0/14/THR/_CA_ quadratic 5.5 3.0
0/2/TRP/_CA_ 0/13/VAL/_CA_ quadratic 5.5 3.0
0/3/THR/_CA_ 0/12/THR/_CA_ quadratic 5.5 3.0
0/4/TYR/_CA_ 0/11/PHE/_CA_ quadratic 5.5 3.0
&lt;/data&gt;

&lt;/formatted_data&gt;

&lt;/distance_restraints&gt;
</pre></div><p>In connection with dihedral restraints, we introduced the template interpretation capacity of the ProFASi XML module. The above is another example. Here the tabular data to be re-cast as a series of XML nodes appears inline inside a special tag  data. The  format tag is used to interpret the contents of the data tag. Here we also introduce how to specify the functional form by giving a type attribute to the auto-generated restraint nodes.</p>
<p>The atoms are specified through their chain, residue number, residue type, and atom label. The labels are 4 characters wide. Spaces in the label should be replaced by underscores. It is important to have the labels correct. It is " CA " (and therefore "_CA_" above), and not "CA__" for C-alpha.</p>
<p>Several alternative forms are available for the functional form. In place of quadratic, one could write "power_law", "flattened_power_law" or "gaussian" to use the functions represented by <a class="el" href="classprf_1_1PowerLawRestraint.html" title="Generic power law potential.">prf::PowerLawRestraint</a>, <a class="el" href="classprf_1_1FlattenedPL.html" title="Power law with a small distance cut.">prf::FlattenedPL</a> and <a class="el" href="classprf_1_1GaussianRestraint.html" title="Restraint of the form of a Gaussian.">prf::GaussianRestraint</a> respectively.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="dh_restraints.html">Restraining simulations with a torsional angle potential</a> </dd></dl>
</div>
<center>
<hr>
<small>
<strong>PROFASI: Protein Folding and Aggregation Simulator, Version 1.5 
</strong><br />
&copy; (2005-2009) <a href="http://www.thep.lu.se/~anders">Anders Irb&auml;ck</a>
and <a href="http://www.thep.lu.se/~sandipan">Sandipan Mohanty</a><br />
Documentation generated on 19 Jun 2014 using Doxygen version 1.6.1
</small>
</center>

</body>
</html> 
