<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PROFASI: prf_xml::XML_Mini Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>prf_xml</b>::<a class="el" href="classprf__xml_1_1XML__Mini.html">XML_Mini</a>
  </div>
</div>
<div class="contents">
<h1>prf_xml::XML_Mini Class Reference<br/>
<small>
[<a class="el" href="group__profasi__XML.html">ProFASi XML module</a>]</small>
</h1><!-- doxytag: class="prf_xml::XML_Mini" -->
<p>A small class to do the book keeping for XML parsing.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;prf_xml.hh&gt;</code></p>

<p><a href="classprf__xml_1_1XML__Mini-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f7d64b08673893be5f36659677fc67b"></a><!-- doxytag: member="prf_xml::XML_Mini::XML_Mini" ref="a5f7d64b08673893be5f36659677fc67b" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__xml_1_1XML__Mini.html#a5f7d64b08673893be5f36659677fc67b">XML_Mini</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__xml_1_1XML__Mini.html#a8b4123267c637e0c1bee9b5225004d5f">read_file</a> (std::string fl)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read XML file as a list of <a class="el" href="classprf__xml_1_1Chunk.html" title="A &quot;chunk&quot; of data in an XML file.">Chunk</a> s.  <a href="#a8b4123267c637e0c1bee9b5225004d5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classprf__xml_1_1XML__Node.html">XML_Node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__xml_1_1XML__Mini.html#a07378ead3e6e36787265e03ffb717bbb">build_tree</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Build XML tree and return pointer to the root element.  <a href="#a07378ead3e6e36787265e03ffb717bbb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab169326240e8e6da1714e52e38c21c73"></a><!-- doxytag: member="prf_xml::XML_Mini::parse_data" ref="ab169326240e8e6da1714e52e38c21c73" args="(std::string &amp;dat)" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__xml_1_1XML__Mini.html#ab169326240e8e6da1714e52e38c21c73">parse_data</a> (std::string &amp;dat)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Takes a string, and parses it into a list of <a class="el" href="classprf__xml_1_1Chunk.html" title="A &quot;chunk&quot; of data in an XML file.">Chunk</a> objects. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4336c9827649bc42f77deccc4bbadd8"></a><!-- doxytag: member="prf_xml::XML_Mini::clear" ref="ad4336c9827649bc42f77deccc4bbadd8" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprf__xml_1_1XML__Mini.html#ad4336c9827649bc42f77deccc4bbadd8">clear</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear all data. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Divides the task into simple logical blocks like reading the file into a list of chunks and then building the XML tree from the chunks. Not really intended for extensive use. Use the interface function <a class="el" href="group__profasi__XML.html#ga58dfa07a0616b8b0f7cc1ebb0910ec1f" title="A function returning an XML tree taking an XML file name.">get_xml_tree()</a> instead. This is a helper class for the implementation of the functionality in <a class="el" href="group__profasi__XML.html#ga58dfa07a0616b8b0f7cc1ebb0910ec1f" title="A function returning an XML tree taking an XML file name.">get_xml_tree()</a> </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__profasi__XML.html#ga58dfa07a0616b8b0f7cc1ebb0910ec1f" title="A function returning an XML tree taking an XML file name.">get_xml_tree()</a> </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a07378ead3e6e36787265e03ffb717bbb"></a><!-- doxytag: member="prf_xml::XML_Mini::build_tree" ref="a07378ead3e6e36787265e03ffb717bbb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classprf__xml_1_1XML__Node.html">XML_Node</a> * XML_Mini::build_tree </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs an XML tree out of a list of chunks perviously collected using <a class="el" href="classprf__xml_1_1XML__Mini.html#a8b4123267c637e0c1bee9b5225004d5f" title="Read XML file as a list of Chunk s.">read_file()</a>. Here is the algorithm:</p>
<ol>
<li>
Check that no chunk contains errors </li>
<li>
Remove special tags to a separate list </li>
<li>
Initialize empty node list "node_buffer" </li>
<li>
Search for sequences of tags that read begin, text ... end. In other words, a begin followed by an end with only text in between. </li>
<li>
Construct a node using this range of chunks, and remove them from the list. </li>
<li>
If the constructed node contains errors (begin and end tag names don't match, name or attribute syntax invalid or the enclosed text has errors) delete the newly created node and put parser state to ERROR. </li>
<li>
If an error free node was successfully created, browse the node_buffer for previously created nodes to find nodes enclosed by the newly created node. If any are found, add them as children and remove them from the node_buffer. Finally add the new node to the node_buffer </li>
<li>
Repeat everything from step 4 onwards. Go back to the start of the survibing chunk list if the end of the list is encountered and the parser is not in an ERROR state. Continue until the list of Chunks is empty or the process stagnates. </li>
<li>
If there is exactly one element in the node_buffer, return it as the root element. Else return NULL </li>
</ol>

</div>
</div>
<a class="anchor" id="a8b4123267c637e0c1bee9b5225004d5f"></a><!-- doxytag: member="prf_xml::XML_Mini::read_file" ref="a8b4123267c637e0c1bee9b5225004d5f" args="(std::string fl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t XML_Mini::read_file </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>fl</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads an XML file specified by its name and makes a list of <a class="el" href="classprf__xml_1_1Chunk.html" title="A &quot;chunk&quot; of data in an XML file.">Chunk</a> objects out of it. Each of these chunks, by construction, either does not contain any &lt; or &gt; tags, or they appear simultaneously as the first and last characters respectively. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>model/Aux/prf_xml.hh</li>
<li>model/Aux/prf_xml.cc</li>
</ul>
</div>
<center>
<hr>
<small>
<strong>PROFASI: Protein Folding and Aggregation Simulator, Version 1.5 
</strong><br />
&copy; (2005-2009) <a href="http://www.thep.lu.se/~anders">Anders Irb&auml;ck</a>
and <a href="http://www.thep.lu.se/~sandipan">Sandipan Mohanty</a><br />
Documentation generated on 19 Jun 2014 using Doxygen version 1.6.1
</small>
</center>

</body>
</html> 
