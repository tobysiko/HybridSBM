<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PROFASI: Retrace the trajectory of a single replica of a parallel tempering run</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="toc.html">Table of contents</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="retrace"><a class="el" href="classRetrace.html" title="A program to retrace the path of an individual replica of parallel tempering.">Retrace</a> the trajectory of a single replica of a parallel tempering run </a></h1><p>Imagine you have a parallel tempering run with 64 replicas. Something really interesting seems to happen between MC sweeps 150 million and 165 million on replica 19. You want to follow it more closely, by generating a more densely recorded run-time history file, or perhaps by making a movie of that part of the trajectory. You want snapshots spaced at shorter intervals compared to how often the original run saved its configuration. How would you do it ?</p>
<p>One way is to restart the run at sweep 150 million with a new settings file that writes out rt and conf files more frequently. But since the journey across temperature space of a replica in a parallel tempering simulation depends on temperatures and energies in all replicas, you would need to re-start a 64 replica run. Can one avoid the wastage of resources by somehow generating only the desired information, with only a re-run of the replica 19 ?</p>
<p>This is the purpose of the program  <a class="el" href="classRetrace.html" title="A program to retrace the path of an individual replica of parallel tempering.">Retrace</a>. For this to work, the parallel tempering run must have been started with the option "keep_T_history on" option in the settings file. With this option, a sufficiently detailed history of the journey of each replica through different temperatures is maintained in files n0/T_history, n1/T_history etc. For each replica, this file records what temperature indices were assigned to it after a given number of sweeps. There is an entry in that file for every successful temperature update. It could look something like this...</p>
<div class="fragment"><pre class="fragment">
0  1
2  0
4  1
6  0
8  1
9  2
10  3
11  4
12  5
...
...
</pre></div><p>The first column contains MC sweeps while the second contains temperature indices. The first row indicates the initial value of the temperature index for the current replica. From the second row on, the second column is the temperature index assigned to the replica at the <em>end</em> of the sweeps in column 1. In this example, the replica was initialized to index 0. After sweep 0, it switched to temperature index 1. Then after sweep 2 it went back to index 0. This automatically means, no new index was assigned after sweep 1.</p>
<p>There is sufficient information in this history file to reconstruct the entire temperature history of this replica. Therefore, given this file, one can run something like a canonical Monte Carlo with changing temperature assignments guided by these values, and retrace the trajectory of the single replica without running the other 63 simultaneously. That is how this program works.</p>
<p>In addition to the commands described in connection with parallel tempering (<a class="el" href="partemp_progref.html">Parallel tempering with PROFASI</a>), this program interprets one more instruction:</p>
<ul>
<li><b>--T_update_plan</b> or <b>-th</b> : This sets the parallel tempering temperature history file to use for retracing. See the documentation of parallel tempering (<a class="el" href="partemp_progref.html">Parallel tempering with PROFASI</a> look up the bits about the option "keep_T_history") for details on how to tell parallel tempering to remember its temperature history. </li>
</ul>
</div>
<center>
<hr>
<small>
<strong>PROFASI: Protein Folding and Aggregation Simulator, Version 1.5 
</strong><br />
&copy; (2005-2009) <a href="http://www.thep.lu.se/~anders">Anders Irb&auml;ck</a>
and <a href="http://www.thep.lu.se/~sandipan">Sandipan Mohanty</a><br />
Documentation generated on 19 Jun 2014 using Doxygen version 1.6.1
</small>
</center>

</body>
</html> 
